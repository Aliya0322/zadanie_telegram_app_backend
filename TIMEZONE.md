# Настройка часового пояса

## Почему ручной ввод?

Часовой пояс **должен быть указан пользователем вручную** при заполнении профиля, потому что:

1. **VPN может искажать определение** - автоматическое определение из браузера может быть неточным
2. **Пользователь может путешествовать** - часовой пояс должен соответствовать реальному местоположению
3. **Точность важна** - для корректной работы уведомлений и отображения времени

## Как установить часовой пояс

### Через API (POST /api/v1/auth/profile)

```json
{
  "first_name": "Иван",
  "last_name": "Иванов",
  "patronymic": "Иванович",
  "birthdate": "1990-01-01T00:00:00Z",
  "timezone": "Europe/Moscow"
}
```

### На фронтенде

Рекомендуется предоставить пользователю **выпадающий список** популярных часовых поясов:

```javascript
const timezones = [
  { value: "Europe/Moscow", label: "Москва (UTC+3)" },
  { value: "Europe/Kiev", label: "Киев (UTC+2)" },
  { value: "Asia/Almaty", label: "Алматы (UTC+6)" },
  { value: "Asia/Tashkent", label: "Ташкент (UTC+5)" },
  // ... и т.д.
];
```

Или использовать библиотеку для выбора часового пояса, например:
- `react-timezone-select` для React
- Нативный `<select>` с полным списком

## Популярные часовые пояса

### Россия и СНГ
- `Europe/Moscow` - Москва (UTC+3)
- `Europe/Kiev` - Киев (UTC+2)
- `Asia/Almaty` - Алматы (UTC+6)
- `Asia/Tashkent` - Ташкент (UTC+5)
- `Asia/Baku` - Баку (UTC+4)
- `Asia/Yerevan` - Ереван (UTC+4)

### Европа
- `Europe/London` - Лондон (UTC+0/+1)
- `Europe/Paris` - Париж (UTC+1/+2)
- `Europe/Berlin` - Берлин (UTC+1/+2)

### Америка
- `America/New_York` - Нью-Йорк (UTC-5/-4)
- `America/Los_Angeles` - Лос-Анджелес (UTC-8/-7)

### Азия
- `Asia/Tokyo` - Токио (UTC+9)
- `Asia/Shanghai` - Шанхай (UTC+8)

Полный список: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones

## Валидация

Бэкенд автоматически валидирует часовой пояс:
- ✅ Если валиден - сохраняется в БД
- ❌ Если невалиден - возвращается ошибка 400 с описанием

## Использование

Часовой пояс используется для:
1. **Отображения времени в уведомлениях** - конвертация из UTC в локальное время
2. **Планирования напоминаний** - учет часового пояса при отправке

## Важно

- Все даты в БД хранятся в **UTC**
- Конвертация происходит только при **отображении** пользователю
- При изменении часового пояса старые данные не изменяются

